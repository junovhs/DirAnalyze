<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DirAnalyze Cartographer</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/viewer.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="icon" href="assets/logo.png" type="image/png">
    <!-- CodeMirror CDN CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/theme/material-darker.min.css">
</head>
<body>
    <div id="pageLoader">
        <video autoplay loop muted playsinline src="assets/loading.webm"></video>
        <p>Loading Cartographer...</p>
    </div>

    <div id="appContainer">
        <aside id="leftSidebar">
            <header id="sidebarHeader">
                <img src="assets/logo.png" alt="Logo" class="header-logo">
            </header>
            <div id="mainAction">
                <div id="dropZone">
                    <div class="drop-content">
                        <div class="drop-icon">üìÅ</div>
                        <div class="drop-text">DROP FOLDER TO MAP</div>
                        <label for="folderInput" class="folder-select-btn">OR SELECT FOLDER</label>
                        <input type="file" id="folderInput" webkitdirectory directory multiple style="display:none">
                    </div>
                </div>
                <div id="loader">ANALYSING...</div>
            </div>
            <div id="visualOutputContainer" class="content-panel">
                <div class="panel-header"><h2>CODE EXPLORER</h2></div>
                <div id="treeContainer" class="tree">
                    <div class="empty-notice">Drop a folder to begin analysis.</div>
                </div>
            </div>
        </aside>

        <div id="sidebarResizer"></div>

        <main id="mainView">
            <div id="fileViewer">
                <div class="viewer-header">
                    <h3 id="viewerFileTitle">FILE VIEWER</h3>
                </div>
                <div class="viewer-container">
                    <div id="viewerContent">
                        <div class="empty-notice">Select a file from the Code Explorer to view its contents.</div>
                    </div>
                </div>
            </div>
        </main>

        <aside id="rightStatsPanel">
            <div class="panel-header"><h2>ANALYSIS & STATS</h2></div>
            <div id="statsContainer">
                <div class="empty-notice">Analysis will appear here.</div>
            </div>
            <div id="dependencyContainer">
                <h3>Dependencies</h3>
                <div id="depsContent">
                    <div class="empty-notice">Dependency info will appear here.</div>
                </div>
            </div>
        </aside>
    </div>

    <!-- CodeMirror CDN JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/acorn/8.11.3/acorn.min.js"></script>
    <script type="module" src="js/main.js"></script>
</body>
</html>